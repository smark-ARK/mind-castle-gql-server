Certainly! Here's a modified version of the README to reflect the changes made to the project, focusing on integrating GraphQL for managing notes:

---

# Mind Castle API

Mind Castle is an API that allows users to create, manage, and share notes securely. It provides authentication, note creation, updating, deletion, search functionalities, and the ability to share notes with other users. The API is built using FastAPI for authentication and GraphQL for managing notes.

## Table of Contents
- [Features](#features)
- [Technologies](#technologies)
- [Setup](#setup)
  - [Running the API](#running-the-api)
  - [Docker Setup](#docker-setup)
- [Project Structure](#project-structure)
- [API Endpoints](#api-endpoints)
- [Testing](#testing)
- [Documentation](#documentation)
- [Technology Stack Selection and Rationale](#technology-stack-selection-and-rationale)

## Features
- **User Authentication:** Users can sign up, log in, and refresh their access tokens securely.
- **Note Management:** Create, update, delete, and search notes using GraphQL.
- **Sharing Notes:** Share notes with other users, manage shared notes, and update permissions.
- **Pagination:** Paginated API to view all notes shared with the authenticated user.

## Technologies
- FastAPI: A modern, fast (high-performance), web framework for building APIs with Python 3.7+.
- GraphQL: A query language for APIs that enables clients to request exactly the data they need.
- SQLAlchemy: SQL Toolkit and Object-Relational Mapping (ORM) for Python.
- Docker: Containerization for easy deployment.
- PostgreSQL: Database management system.

## Setup
you can find the demo on https://mind-castle-gql.vercel.app
### Example .env Structure

Create a .env file at the root of your project with the following structure:

```dotenv
DATABASE_HOSTNAME=mind-castle-db-gql
DATABASE_PORT=5432
DATABASE_PASSWORD=password
DATABASE_NAME=mind-castle-gql
DATABASE_USERNAME=postgres

SECRET_KEY=yoursecret
REFRESH_SECRET_KEY=yoursecret
ALGORITHM=HS256
ACCESS_EXPIRE_MINUTES=30
REFRESH_EXPIRE_MINUTES=1440

POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
```

### Running the API

1. **Clone the Repository:**
    ```bash
    git clone https://github.com/smark-ARK/mind-castle.git
    cd mind-castle
    ```

2. **Install Dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

3. **Run Migrations:**
    ```bash
    alembic upgrade head
    ```

4. **Run the API:**
    ```bash
    uvicorn app.main:app --reload
    ```

### Docker Setup

1. **Build Docker Images:**
    ```bash
    docker-compose -f ./docker-compose-local.yml build
    ```

2. **Run Docker Containers:**
    ```bash
    docker-compose -f ./docker-compose-local.yml up
    ```

3. Access the API at [http://localhost:8000](http://localhost:8000)


## Project Structure

The project structure follows a standard FastAPI application layout:

- `app`: Contains the main FastAPI application code.
- `alembic`: Manages database migrations using Alembic.

## API Endpoints

- **Authentication:**
  - `/api/auth/signup`: Create a new user.
  - `/api/auth/login`: Log in and obtain access tokens.
  - `/api/auth/refresh`: Refresh access tokens.

- **Note Management with GraphQL:**
  - `/graphql/notes`: Perform GraphQL queries and mutations for managing notes. See Schema defination on GraphQL playground for more details.
  

## Documentation

The API documentation is generated by FastAPI and is available at [http://localhost:8000/docs](http://localhost:8000/docs). The documentation provides an interactive interface to explore and test the API endpoints using GraphQL queries and mutations.

Both Swagger UI and ReDoc offer an excellent way to understand, test, and interact with the Mind Castle API.

# Technology Stack Selection and Rationale

## FastAPI: A Swift and Efficient Framework

The choice of **FastAPI** as the primary web framework for Mind Castle was driven by several compelling factors. FastAPI stands out for its ease of use and rapid development capabilities, making it an ideal choice for quick project setup. Additionally, FastAPI seamlessly integrates with GraphQL, enabling efficient management of complex data structures.

## GraphQL: Flexible Data Query Language

**GraphQL** was chosen for managing notes due to its flexibility and ability to precisely define data requirements. By implementing GraphQL, Mind Castle ensures that clients can request exactly the data they need, optimizing network efficiency and enhancing user experience.

## PostgreSQL: A Robust Relational Database

Mind Castle's data structure and relationships are well-suited for a relational database, making **PostgreSQL** the natural and optimal choice. The clarity and flexibility offered by PostgreSQL in managing complex data relationships significantly influenced this decision.

## SQLAlchemy: A Powerful ORM for Database Interaction

The integration of **SQLAlchemy** as the Object-Relational Mapping (ORM) tool aligns with best practices recommended by FastAPI. SQLAlchemy's popularity and comprehensive feature set make it an excellent choice for managing database interactions. Its compatibility with FastAPI facilitates the seamless integration of database operations into the application, enhancing maintainability and code readability.

In conclusion, the technology stack chosen for Mind Castle reflects a thoughtful consideration of factors such as ease of development, data management capabilities, security, and adaptability. Each component complements the others, resulting in a robust and efficient system tailored to the project's unique requirements.